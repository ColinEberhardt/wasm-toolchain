<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Count</title>
  <script type='text/javascript'>
    fetch('sample.wasm').then(res => res.arrayBuffer()).then(buffer => WebAssembly.compile(buffer)).then(module => {
      const instance = new WebAssembly.Instance(module);
      document.getElementById("btn").addEventListener("click", function() {
        this.value = instance.exports.count();
      }, false);
    });
  </script>
</head>
<body>
  <input type="button" id="btn" value="Click me!" />
</body>
</html>
